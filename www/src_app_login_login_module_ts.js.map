{"version":3,"sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts","./src/app/shared/services/authentication-service/authentication.service.ts","./src/app/login/login.page.scss","./src/app/login/login.page.html"],"names":[],"mappings":"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","file":"src_app_login_login_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthenticationService } from '../shared/services/authentication-service/authentication.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage {\n  email='';\n  password='';\n  constructor(private router: Router, private authService:AuthenticationService) { }\n\n  login() {\n  }\n  logIn(email, password) {\n    this.authService.SignIn(email, password)\n      .then((res) => {\n        // if(this.authService.isEmailVerified) {   \n          this.router.navigate(['tabs/home']);     \n        // } else {\n        //   window.alert('Email is not verified')\n        //   return false;\n        // }\n      }).catch((error) => {\n        window.alert(error.message)\n      })\n  }\n}\n","import { Injectable, NgZone } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFirestore, AngularFirestoreDocument } from '@angular/fire/firestore';\nimport { Router } from '@angular/router';\nimport { AppAccountInfo } from '../../models/app-account-info.model';\nimport * as firebase from 'firebase';\nimport { first, map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthenticationService {\n  userData: any;\n\n  constructor(\n    public afStore: AngularFirestore,\n    public ngFireAuth: AngularFireAuth,\n    public router: Router,  \n    public ngZone: NgZone \n  ) {\n    this.ngFireAuth.authState.subscribe(user => {\n      if (user) {\n        this.userData = user;\n        localStorage.setItem('user', JSON.stringify(this.userData));\n        JSON.parse(localStorage.getItem('user'));\n      } else {\n        localStorage.setItem('user', null);\n        JSON.parse(localStorage.getItem('user'));\n      }\n    })\n  }\n\n  // Login in with email/password\n  SignIn(email, password) {\n    return this.ngFireAuth.signInWithEmailAndPassword(email, password)\n  }\n  // Register user with email/password\n  RegisterUser(user) {\n    return this.ngFireAuth.createUserWithEmailAndPassword(user.email, user.password).then((res)=>{\nconsole.log(\"res\",res);\nthis.SetUserData(user,res.user);\n    })\n  }\n\n\n  // Recover password\n  PasswordRecover(passwordResetEmail) {\n    return this.ngFireAuth.sendPasswordResetEmail(passwordResetEmail)\n    .then(() => {\n      window.alert('Password reset email has been sent, please check your inbox.');\n    }).catch((error) => {\n      window.alert(error)\n    })\n  }\n\n\n\n\n  // Store user in localStorage\n  SetUserData(user,res) {\n    if(res.uid){\n      this.updateProfile(user)\n    }\n    const userRef: AngularFirestoreDocument<any> = this.afStore.doc(`users/${res.uid}`);\n    const userData: AppAccountInfo = {\n      uid: res.uid,\n      email: res.email,\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      emailVerified: res.emailVerified\n    }\n    return userRef.set(userData, {\n      merge: true\n    })\n  }\n  async updateProfile(val) {\n    const profile = {\n        displayName: val.displayName,\n        photoURL: val.photoURL\n    }\n    return (await this.ngFireAuth.currentUser).updateProfile(profile);\n}\n getCurrentAccountInfoObservable(userId): Observable<AppAccountInfo> {\n  try {\n    return this.afStore.collection('users').doc(userId).get().pipe(\n      map(user => user.data())\n    ) as Observable<AppAccountInfo>;\n  } catch (error) {\n    throw new Error(error);\n  }\n}\n  // Sign-out \n  SignOut() {\n    return this.ngFireAuth.signOut().then(() => {\n      localStorage.removeItem('user');\n      this.router.navigate(['login']);\n    })\n  }\n\n}","export default \"ion-toolbar {\\n  --background:#000000a6;\\n  color: white;\\n}\\n\\nion-content {\\n  --background:#000000a6;\\n  color: white;\\n}\\n\\nion-item {\\n  --background:#00000000;\\n  color: white;\\n}\\n\\nion-icon {\\n  color: white;\\n}\\n\\n.top-to-center {\\n  position: relative;\\n  top: 20%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHNCQUFBO0VBQ0EsWUFBQTtBQUNKOztBQUNFO0VBQ0Usc0JBQUE7RUFDQSxZQUFBO0FBRUo7O0FBQUU7RUFDRSxzQkFBQTtFQUNBLFlBQUE7QUFHSjs7QUFERTtFQUNJLFlBQUE7QUFJTjs7QUFGRTtFQUNJLGtCQUFBO0VBQ0EsUUFBQTtBQUtOIiwiZmlsZSI6ImxvZ2luLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi10b29sYmFye1xyXG4gICAgLS1iYWNrZ3JvdW5kOiMwMDAwMDBhNjtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICB9XHJcbiAgaW9uLWNvbnRlbnR7XHJcbiAgICAtLWJhY2tncm91bmQ6IzAwMDAwMGE2O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gIH1cclxuICBpb24taXRlbXtcclxuICAgIC0tYmFja2dyb3VuZDojMDAwMDAwMDA7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgfVxyXG4gIGlvbi1pY29ue1xyXG4gICAgICBjb2xvcjogd2hpdGU7XHJcbiAgfVxyXG4gIC50b3AtdG8tY2VudGVye1xyXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgIHRvcDogMjAlO1xyXG4gIH0iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Log In</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <form class=\\\"top-to-center\\\">\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Email</ion-label>\\n      <ion-input [ngModelOptions]=\\\"{standalone: true}\\\" [(ngModel)]=\\\"email\\\" type=\\\"email\\\" required></ion-input>\\n    </ion-item>\\n\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Password</ion-label>\\n      <ion-input [ngModelOptions]=\\\"{standalone: true}\\\" [(ngModel)]=\\\"password\\\" type=\\\"password\\\" required></ion-input>\\n    </ion-item>\\n\\n    <ion-row>\\n      <ion-col>\\n        <ion-button type=\\\"button\\\" color=\\\"danger\\\" expand=\\\"block\\\" (click)=\\\"logIn(email,password)\\\">Sign In</ion-button>\\n        <!-- <a [routerLink]=\\\"['/forgot-password']\\\" class=\\\"small-text\\\">Forgot Password?</a> -->\\n      </ion-col>\\n    </ion-row>\\n  </form>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}